//var quizz_module ;

module.exports	= (function(){
	var Lobby			= function(lobby){
		lobby_name = lobby;
		console.log("Hello! New lobby : "+lobby);
	};
	//Quizz.Lobby = Lobby;
	
	
	Lobby.prototype	= function(){
		var constructor	= Lobby;
		
		var lobby_ref;
		var lobby_name;
		var player_list;
		var game_list;
		
		//return the lobby reference
		var get_ref 		= function(){
			return lobby_ref;
		};
		
		//return the name of the lobby
		var get_name		= function(){
			return lobby_name;
		};
		
		//return the list of the players
		var get_players		= function(){
			return player_list;
		};
		
		//return a specific user
		var get_player		= function(player_ref){
			return player_list[player_ref];
		};
		
		//return the list of games in this lobby
		var get_game_list	= function(){
			return game_list;
		};
		
		//return a specific game
		var get_game 		= function(game_ref){
			return game_list[game_ref];
		};
		
		//add a player to the lobby
		var add_player		= function(player){
			//if the user doesn't already exist, we add him to the lobby
			if(player_list[player.reference] == undefined){
				player_list[player.reference] = player;
			}
			else{
				//output or log a warning, because we're trying to add
				//a player that has already been added to this lobby.
			}
		};
		
		//add a game in the game list of this lobby
		var add_game		= function(game){
			//if the game doesn't already exist, we add it to the lobby
			if(game_list[game.reference] == undefined){
				game_list[game.reference] = game;
			}
			else {
				//output or log a warning, because we're trying to add
				//a game that has already been added to this lobby.
			}
		};
		
		//remove a player from the lobby
		var remove_player	= function(player_ref){
			player_list[player_ref] = null;
		};
		
		//remove a game from the game list
		var remove_game		= function(game_ref){
			game_list[game_ref] = null;
		};
		
	};
	
	return {
		Lobby : Lobby
	};
	
})();


