
module.exports = function(){
	var Game	= function(){};
	
	Game.prototype 		= function(){
		var constructor 	= Game;
		
		var player_list;
		var spectator_list;
		var lobby_reference;
		var game_name;
		var game_type;
		var game_reference;
		
		
		//return the game reference
		var get_ref				= function(){
			return game_reference;
		};
		
		//return the name of the game
		var get_name			= function(){
			return game_name;
		};
		
		//return the list of the players
		var get_players			= function(){
			return player_list;
		};
		
		//return the list of the spectators
		var get_spectators		= function(){
			return spectator_list;
		};
		
		//return general data from the game, such as the players,
		//spectators, points, etc
		var get_general_data	= function(){
			
		};
		
		//Add a player to the player list
		var add_player			= function(player){
		//if the player doesn't already exist, add him		
			if(player_list[player.reference] == undefined){
				player_list[player.reference] = player;
			}
			else{
				//output or log a warning, because we tried to add a user
				//that already existed. 
			}
		};
		
		//Add a spectator to the spectator list
		var add_spectator		= function(spectator){
			//if the spectator doesn't already exist, add him
			if(spectator_list[spectator.reference] == undefined){
				spectator_list[spectator.reference] = spectator;
			}
			else{
				//output or log a warning, because we tried to add a spectator
				//that already existed.
			}
		};
		
		//Move the user from spectator to player, or from player to spectator
		var move_player			= function(player, destination){
			if(destination == 'player'){
				remove_spectator(player);
				add_player(player);
			}
			else if(destination == 'spectator'){
				remove_player(player);
				add_spectator(player);
			}
			else{
				//output or log a warning
			}
		};
		
		//remove a player from the player list
		var remove_player		= function(player){
			player_list[player.reference] = null;
		};
		
		//remove a spectator from the spectator list
		var remove_spectator	= function(spectator){
			spectator_list[spectator.reference] = null;
		};
		
	}();
	
	return{
		Game : Game
	};
}();
